# 面试题

## 1. Vue中 Scoped Styles 是如何实现样式隔离的？说说具体的原理

Vue的Scoped Styles通过**属性选择器**实现样式隔离。

**实现过程：**
1. **编译时**：Vue编译器为每个scoped组件生成唯一的哈希ID（如`data-v-f3f3eg9`），并将CSS选择器改写为带属性选择器的形式
2. **运行时**：为组件的所有DOM元素添加对应的data属性

它的优点是有效防止样式冲突，提高组件独立性，但是无法直接修改子组件样式，需要使用深度选择器`:deep()`

**🔗 详细解析：** [点击查看详细解析](./面试题-详解.md#_1-vue中-scoped-styles-是如何实现样式隔离的)

## 2. Vue3中的 Teleport是什么，有哪些应用场景？

Teleport是Vue3新增的内置组件，可以将组件的模板渲染到DOM树中的任意位置，而不受组件层级限制。

**主要应用场景：**
- **模态框/弹窗**：避免z-index层级问题，直接渲染到body下
- **Toast通知**：全局提示组件，需要在页面顶层显示
- **下拉菜单**：防止被父容器的overflow:hidden裁剪
- **全屏组件**：如全屏播放器、图片预览等

**🔗 详细解析：** [点击查看详细解析](./面试题-详解.md#_2-vue3中的-teleport是什么-有哪些应用场景)

## 3. 为什么需要Pinia或者Vuex？如果不使用状态管理工具，如何实现跨组件通信？代替方案有哪些？

**为什么需要状态管理工具：**
当应用复杂度增加时，多个组件需要共享状态，传统的props/emit方式会导致"prop drilling"问题，代码难以维护。

**不使用状态管理的跨组件通信方案：**
1. **Props/Emit**：父子组件通信，但多层嵌套时繁琐
2. **Provide/Inject**：祖先向后代传递数据，但缺乏响应式追踪
3. **Event Bus**：全局事件总线，但难以调试和维护
4. **全局变量**：简单粗暴，但破坏了组件封装性

**🔗 详细解析：** [点击查看详细解析](./面试题-详解.md#_3-为什么需要pinia或者vuex-如果不使用状态管理工具-如何实现跨组件通信-代替方案有哪些)

## 4. Vue3的 addRoute 与 React Router 的动态 useRoutes 有何区别？如何解决动态路由刷新后失效的问题？

**区别**
addRoute是命令式API，运行时动态添加路由到现有路由实例。路由实例可变，支持增删改路由，状态持久化。
useRoutes是声明式Hook，基于路由配置数组重新渲染路由树。每次调用useRoutes都会重新计算路由匹配，无状态。

**刷新失效解决方案：**
- **权限路由持久化**：将动态路由配置存储到localStorage/sessionStorage
- **应用初始化恢复**：在应用启动时从存储中恢复路由配置
- **路由守卫处理**：在beforeEach中检查并重新添加缺失的路由

**🔗 详细解析：** [点击查看详细解析](./面试题-详解.md#_4-vue3的-addroute-与-react-router-的动态-useroutes-有何区别-如何解决动态路由刷新后失效的问题)

## 5. Vue3中的 v-model 的改进是什么？如何使用 defineModel 简化代码？

**Vue3 v-model 主要改进：**
1. **支持多个v-model**：可以在同一组件上使用多个v-model绑定不同属性
2. **自定义修饰符**：支持自定义v-model修饰符，增强灵活性
3. **破坏性变更**：默认prop从`value`改为`modelValue`，事件从`input`改为`update:modelValue`

**defineModel 简化：**
- **Vue 3.4+新特性**：编译时宏，自动处理props和emit的声明
- **代码简化**：无需手动定义props和emit，一行代码搞定双向绑定
- **类型安全**：完整的TypeScript支持和类型推导

**🔗 详细解析：** [点击查看详细解析](./面试题-详解.md#_5-vue3中的-v-model-的改进是什么-如何使用-definemodel-简化代码)

## 6. Vue2中v-model的实现原理是什么？

v-model是Vue2中的语法糖，本质上是`:value`属性绑定和`@input`事件监听的组合。

**实现机制：**
1. **属性绑定**：将数据绑定到表单元素的`value`属性
2. **事件监听**：监听`input`事件，当用户输入时更新数据
3. **双向同步**：数据变化更新视图，用户输入更新数据

**不同表单元素的处理：**
- **input/textarea**：绑定`value`属性，监听`input`事件
- **checkbox/radio**：绑定`checked`属性，监听`change`事件  
- **select**：绑定`value`属性，监听`change`事件

**🔗 详细解析：** [点击查看详细解析](./面试题-详解.md#_6-vue2中v-model的实现原理是什么)