# 面试题

## 1. Vue中 Scoped Styles 是如何实现样式隔离的？说说具体的原理

Vue的Scoped Styles通过**属性选择器**实现样式隔离。

**实现过程：**
1. **编译时**：Vue编译器为每个scoped组件生成唯一的哈希ID（如`data-v-f3f3eg9`），并将CSS选择器改写为带属性选择器的形式
2. **运行时**：为组件的所有DOM元素添加对应的data属性

它的优点是有效防止样式冲突，提高组件独立性，但是无法直接修改子组件样式，需要使用深度选择器`:deep()`

## 2. Vue3中的 Teleport是什么，有哪些应用场景？

Teleport是Vue3新增的内置组件，可以将组件的模板渲染到DOM树中的任意位置，而不受组件层级限制。

**主要应用场景：**
- **模态框/弹窗**：避免z-index层级问题，直接渲染到body下
- **Toast通知**：全局提示组件，需要在页面顶层显示
- **下拉菜单**：防止被父容器的overflow:hidden裁剪
- **全屏组件**：如全屏播放器、图片预览等

**🔗 详细解析：** [点击查看详细解析](./面试题-详解.md#2-vue3中的-teleport是什么有哪些应用场景)

## 3. 为什么需要Pinia或者Vuex？如果不使用状态管理工具，如何实现跨组件通信？代替方案有哪些？

**为什么需要状态管理工具：**
当应用复杂度增加时，多个组件需要共享状态，传统的props/emit方式会导致"prop drilling"问题，代码难以维护。

**不使用状态管理的跨组件通信方案：**
1. **Props/Emit**：父子组件通信，但多层嵌套时繁琐
2. **Provide/Inject**：祖先向后代传递数据，但缺乏响应式追踪
3. **Event Bus**：全局事件总线，但难以调试和维护
4. **全局变量**：简单粗暴，但破坏了组件封装性

**🔗 详细解析：** [点击查看详细解析](./面试题-详解.md#3-为什么需要pinia或者vuex如果不使用状态管理工具如何实现跨组件通信代替方案有哪些)

## 4. Vue3的 addRoute 与 React Router 的动态 useRoutes 有何区别？如何解决动态路由刷新后失效的问题？

**区别**
addRoute是命令式API，运行时动态添加路由到现有路由实例。路由实例可变，支持增删改路由，状态持久化。
useRoutes是声明式Hook，基于路由配置数组重新渲染路由树。每次调用useRoutes都会重新计算路由匹配，无状态。

**刷新失效解决方案：**
- **权限路由持久化**：将动态路由配置存储到localStorage/sessionStorage
- **应用初始化恢复**：在应用启动时从存储中恢复路由配置
- **路由守卫处理**：在beforeEach中检查并重新添加缺失的路由

**🔗 详细解析：** [点击查看详细解析](./面试题-详解.md#4-vue3的-addroute-与-react-router-的动态-useroutes-有何区别如何解决动态路由刷新后失效的问题)