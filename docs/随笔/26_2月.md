# 2026年2月

## 2月9日

记录一下最近部署Jenkins的一些问题。

由于使用了宝塔系统，经常发生一个权限问题。比如Jenkins容器内部默认使用 uid 1000，需要把这个文件夹权限给它，否则在删除文件时会报错。

AI工具项目采用了`Monorepo`结构，前端React位于`apps/web`，后端Nest位于`apps/api`。

因为`.env`环境配置文件忽略上传到仓库，所以需要手动在后端构建打包对应的目录下创建这个文件。

前后端同时使用同一个域名，`nginx`使用`location /api/`进行转发。

因为不想每次更新后端代码都需要重启服务器，所以使用了`ecosystem.config.js`来管理进程。这里需要注释即使是TypeScript项目，也需要是`javascript`文件。

目前有一个地方还没搞懂，`node_modules`需要我手动在`dist`目录下创建，而不是有构建打包时完成。这个后续需要在研究下。