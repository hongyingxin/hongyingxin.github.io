# （二）：Axios 请求封装

## 概述
在前端开发中，与后端进行数据交互绕不开ajax请求。本后管采用Axios作为 HTTP 请求库，并且基于业务进行了常规的封装。

## 一. 创建目录结构
首先创建以下目录结构：
```bash
src/api/
│  index.ts                # API 主入口文件
│  
├─config                   # 配置文件夹
│      servicePort.ts      # 服务端口配置
│      
├─helper                   # 辅助工具文件夹
│      axiosCancel.ts     # 请求取消工具
│      checkStatus.ts      # 状态码检查工具
│      
├─interface               # 接口类型定义文件夹
│      index.ts           # 公共类型定义
│      
└─modules                 # API 模块文件夹
        login.ts          # 登录相关接口
        user.ts           # 用户相关接口
```

## 二. 安装依赖
```bash
npm install axios --save

npm install qs --save

```

## 三.创建文件

1. **服务配置文件**
```typescript
// src/api/config/servicePort.ts
export const PORT1 = "/hooks";
```

2. **公共接口类型**
```typescript
// src/api/interface/index.ts
export interface Result {
  code: string;
  msg: string;
}

export interface ResultData<T = any> extends Result {
  data: T;
}

export interface ReqPage {
  current?: number;
  pageSize?: number;
}

export interface ResPage<T> {
  list: T[];
  current: number;
  pageSize: number;
  total: number;
}

export interface ReqLogin {
  username: string;
  password: string;
}

export interface ResLogin {
  access_token: string;
}

export interface UserList {
  id: string;
  username: string;
  gender: 1 | 2;
  age: number;
  idCard: string;
  email: string;
  address: string;
  createTime: string;
  status: boolean;
  avatar: string;
}
```